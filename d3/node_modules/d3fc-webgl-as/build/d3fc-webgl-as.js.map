{"version":3,"file":"d3fc-webgl-as.js","sources":["../node_modules/assemblyscript/lib/loader/index.js","../wasm/optimized.js","../src/js/api.js","../src/js/circles.js","../src/js/shapes.js","../src/js/array_allocator.js","../src/js/pointData.js"],"sourcesContent":["\"use strict\";\n\nconst hasBigInt64 = typeof BigUint64Array !== \"undefined\";\nconst thisPtr = Symbol();\n\n/** Gets a string from an U32 and an U16 view on a memory. */\nfunction getStringImpl(U32, U16, ptr) {\n  var dataLength = U32[ptr >>> 2];\n  var dataOffset = (ptr + 4) >>> 1;\n  var dataRemain = dataLength;\n  var parts = [];\n  const chunkSize = 1024;\n  while (dataRemain > chunkSize) {\n    let last = U16[dataOffset + chunkSize - 1];\n    let size = last >= 0xD800 && last < 0xDC00 ? chunkSize - 1 : chunkSize;\n    let part = U16.subarray(dataOffset, dataOffset += size);\n    parts.push(String.fromCharCode.apply(String, part));\n    dataRemain -= size;\n  }\n  return parts.join(\"\") + String.fromCharCode.apply(String, U16.subarray(dataOffset, dataOffset + dataRemain));\n}\n\n/** Prepares the base module prior to instantiation. */\nfunction preInstantiate(imports) {\n  var baseModule = {};\n\n  function getString(memory, ptr) {\n    if (!memory) return \"<yet unknown>\";\n    var buffer = memory.buffer;\n    return getStringImpl(new Uint32Array(buffer), new Uint16Array(buffer), ptr);\n  }\n\n  // add common imports used by stdlib for convenience\n  var env = (imports.env = imports.env || {});\n  env.abort = env.abort || function abort(mesg, file, line, colm) {\n    var memory = baseModule.memory || env.memory; // prefer exported, otherwise try imported\n    throw Error(\"abort: \" + getString(memory, mesg) + \" at \" + getString(memory, file) + \":\" + line + \":\" + colm);\n  }\n  env.trace = env.trace || function trace(mesg, n) {\n    var memory = baseModule.memory || env.memory;\n    console.log(\"trace: \" + getString(memory, mesg) + (n ? \" \" : \"\") + Array.prototype.slice.call(arguments, 2, 2 + n).join(\", \"));\n  }\n  imports.Math = imports.Math || Math;\n  imports.Date = imports.Date || Date;\n\n  return baseModule;\n}\n\n/** Prepares the final module once instantiation is complete. */\nfunction postInstantiate(baseModule, instance) {\n  var rawExports = instance.exports;\n  var memory = rawExports.memory;\n  var memory_allocate = rawExports[\"memory.allocate\"];\n  var memory_fill = rawExports[\"memory.fill\"];\n  var memory_free = rawExports[\"memory.free\"];\n  var table = rawExports.table;\n  var setargc = rawExports._setargc || function() {};\n\n  // Provide views for all sorts of basic values\n  var buffer, I8, U8, I16, U16, I32, U32, F32, F64, I64, U64;\n\n  /** Updates memory views if memory has grown meanwhile. */\n  function checkMem() {\n    // see: https://github.com/WebAssembly/design/issues/1210\n    if (buffer !== memory.buffer) {\n      buffer = memory.buffer;\n      I8  = new Int8Array(buffer);\n      U8  = new Uint8Array(buffer);\n      I16 = new Int16Array(buffer);\n      U16 = new Uint16Array(buffer);\n      I32 = new Int32Array(buffer);\n      U32 = new Uint32Array(buffer);\n      if (hasBigInt64) {\n        I64 = new BigInt64Array(buffer);\n        U64 = new BigUint64Array(buffer);\n      }\n      F32 = new Float32Array(buffer);\n      F64 = new Float64Array(buffer);\n    }\n  }\n  checkMem();\n\n  /** Allocates a new string in the module's memory and returns its pointer. */\n  function newString(str) {\n    var dataLength = str.length;\n    var ptr = memory_allocate(4 + (dataLength << 1));\n    var dataOffset = (4 + ptr) >>> 1;\n    checkMem();\n    U32[ptr >>> 2] = dataLength;\n    for (let i = 0; i < dataLength; ++i) U16[dataOffset + i] = str.charCodeAt(i);\n    return ptr;\n  }\n\n  baseModule.newString = newString;\n\n  /** Gets a string from the module's memory by its pointer. */\n  function getString(ptr) {\n    checkMem();\n    return getStringImpl(U32, U16, ptr);\n  }\n\n  baseModule.getString = getString;\n\n  function computeBufferSize(byteLength) {\n    const HEADER_SIZE = 8;\n    return 1 << (32 - Math.clz32(byteLength + HEADER_SIZE - 1));\n  }\n\n  /** Creates a new typed array in the module's memory and returns its pointer. */\n  function newArray(view, length, unsafe) {\n    var ctor = view.constructor;\n    if (ctor === Function) { // TypedArray constructor created in memory\n      ctor = view;\n      view = null;\n    } else { // TypedArray instance copied into memory\n      if (length === undefined) length = view.length;\n    }\n    var elementSize = ctor.BYTES_PER_ELEMENT;\n    if (!elementSize) throw Error(\"not a typed array\");\n    var byteLength = elementSize * length;\n    var ptr = memory_allocate(12); // TypedArray header\n    var buf = memory_allocate(computeBufferSize(byteLength)); // ArrayBuffer\n    checkMem();\n    U32[ ptr      >>> 2] = buf;        // .buffer\n    U32[(ptr + 4) >>> 2] = 0;          // .byteOffset\n    U32[(ptr + 8) >>> 2] = byteLength; // .byteLength\n    U32[ buf      >>> 2] = byteLength; // .byteLength\n    U32[(buf + 4) >>> 2] = 0;          // 0\n    if (view) {\n      new ctor(buffer, buf + 8, length).set(view);\n      if (view.length < length && !unsafe) {\n        let setLength = elementSize * view.length;\n        memory_fill(buf + 8 + setLength, 0, byteLength - setLength);\n      }\n    } else if (!unsafe) {\n      memory_fill(buf + 8, 0, byteLength);\n    }\n    return ptr;\n  }\n\n  baseModule.newArray = newArray;\n\n  /** Gets a view on a typed array in the module's memory by its pointer. */\n  function getArray(ctor, ptr) {\n    var elementSize = ctor.BYTES_PER_ELEMENT;\n    if (!elementSize) throw Error(\"not a typed array\");\n    checkMem();\n    var buf        = U32[ ptr      >>> 2];\n    var byteOffset = U32[(ptr + 4) >>> 2];\n    var byteLength = U32[(ptr + 8) >>> 2];\n    return new ctor(buffer, buf + 8 + byteOffset, (byteLength - byteOffset) / elementSize);\n  }\n\n  baseModule.getArray = getArray;\n\n  /** Frees a typed array in the module's memory. Must not be accessed anymore afterwards. */\n  function freeArray(ptr) {\n    checkMem();\n    var buf = U32[ptr >>> 2];\n    memory_free(buf);\n    memory_free(ptr);\n  }\n\n  baseModule.freeArray = freeArray;\n\n  /**\n   * Creates a new function in the module's table and returns its pointer. Note that only actual\n   * WebAssembly functions, i.e. as exported by the module, are supported.\n   */\n  function newFunction(fn) {\n    if (typeof fn.original === \"function\") fn = fn.original;\n    var index = table.length;\n    table.grow(1);\n    table.set(index, fn);\n    return index;\n  }\n\n  baseModule.newFunction = newFunction;\n\n  /** Gets a function by its pointer. */\n  function getFunction(ptr) {\n    return wrapFunction(table.get(ptr), setargc);\n  }\n\n  baseModule.getFunction = getFunction;\n\n  // Pull basic exports to baseModule so code in preInstantiate can use them\n  baseModule.memory = baseModule.memory || memory;\n  baseModule.table = baseModule.table || table;\n\n  // Demangle exports and provide the usual utility on the prototype\n  return demangle(rawExports, Object.defineProperties(baseModule, {\n    I8: { get: function() { checkMem(); return I8; } },\n    U8: { get: function() { checkMem(); return U8; } },\n    I16: { get: function() { checkMem(); return I16; } },\n    U16: { get: function() { checkMem(); return U16; } },\n    I32: { get: function() { checkMem(); return I32; } },\n    U32: { get: function() { checkMem(); return U32; } },\n    I64: { get: function() { checkMem(); return I64; } },\n    U64: { get: function() { checkMem(); return U64; } },\n    F32: { get: function() { checkMem(); return F32; } },\n    F64: { get: function() { checkMem(); return F64; } }\n  }));\n}\n\n/** Wraps a WebAssembly function while also taking care of variable arguments. */\nfunction wrapFunction(fn, setargc) {\n  var wrap = (...args) => {\n    setargc(args.length);\n    return fn(...args);\n  }\n  // adding a function to the table with `newFunction` is limited to actual WebAssembly functions,\n  // hence we can't use the wrapper and instead need to provide a reference to the original\n  wrap.original = fn;\n  return wrap;\n}\n\n/** Instantiates an AssemblyScript module using the specified imports. */\nfunction instantiate(module, imports) {\n  return postInstantiate(\n    preInstantiate(imports || (imports = {})),\n    new WebAssembly.Instance(module, imports)\n  );\n}\n\nexports.instantiate = instantiate;\n\n/** Instantiates an AssemblyScript module from a buffer using the specified imports. */\nfunction instantiateBuffer(buffer, imports) {\n  return instantiate(new WebAssembly.Module(buffer), imports);\n}\n\nexports.instantiateBuffer = instantiateBuffer;\n\n/** Instantiates an AssemblyScript module from a response using the specified imports. */\nasync function instantiateStreaming(response, imports) {\n  return postInstantiate(\n    preInstantiate(imports || (imports = {})),\n    (await WebAssembly.instantiateStreaming(response, imports)).instance\n  );\n}\n\nexports.instantiateStreaming = instantiateStreaming;\n\n/** Demangles an AssemblyScript module's exports to a friendly object structure. */\nfunction demangle(exports, baseModule) {\n  var module = baseModule ? Object.create(baseModule) : {};\n  var setargc = exports._setargc || function() {};\n  function hasOwnProperty(elem, prop) {\n    return Object.prototype.hasOwnProperty.call(elem, prop);\n  }\n  for (let internalName in exports) {\n    if (!hasOwnProperty(exports, internalName)) continue;\n    let elem = exports[internalName];\n    let parts = internalName.split(\".\");\n    let curr = module;\n    while (parts.length > 1) {\n      let part = parts.shift();\n      if (!hasOwnProperty(curr, part)) curr[part] = {};\n      curr = curr[part];\n    }\n    let name = parts[0];\n    let hash = name.indexOf(\"#\");\n    if (hash >= 0) {\n      let className = name.substring(0, hash);\n      let classElem = curr[className];\n      if (typeof classElem === \"undefined\" || !classElem.prototype) {\n        let ctor = function(...args) {\n          return ctor.wrap(ctor.prototype.constructor(0, ...args));\n        };\n        ctor.prototype = {};\n        ctor.wrap = function(thisValue) {\n          return Object.create(ctor.prototype, { [thisPtr]: { value: thisValue, writable: false } });\n        };\n        if (classElem) Object.getOwnPropertyNames(classElem).forEach(name =>\n          Object.defineProperty(ctor, name, Object.getOwnPropertyDescriptor(classElem, name))\n        );\n        curr[className] = ctor;\n      }\n      name = name.substring(hash + 1);\n      curr = curr[className].prototype;\n      if (/^(get|set):/.test(name)) {\n        if (!hasOwnProperty(curr, name = name.substring(4))) {\n          let getter = exports[internalName.replace(\"set:\", \"get:\")];\n          let setter = exports[internalName.replace(\"get:\", \"set:\")];\n          Object.defineProperty(curr, name, {\n            get: function() { return getter(this[thisPtr]); },\n            set: function(value) { setter(this[thisPtr], value); },\n            enumerable: true\n          });\n        }\n      } else {\n        if (name === 'constructor') {\n          curr[name] = wrapFunction(elem, setargc);\n        } else { // for methods\n          Object.defineProperty(curr, name, {\n            value: function (...args) {\n              setargc(args.length);\n              return elem(this[thisPtr], ...args);\n            }\n          });\n        }\n      }\n    } else {\n      if (/^(get|set):/.test(name)) {\n        if (!hasOwnProperty(curr, name = name.substring(4))) {\n          Object.defineProperty(curr, name, {\n            get: exports[internalName.replace(\"set:\", \"get:\")],\n            set: exports[internalName.replace(\"get:\", \"set:\")],\n            enumerable: true\n          });\n        }\n      } else if (typeof elem === \"function\") {\n        curr[name] = wrapFunction(elem, setargc);\n      } else {\n        curr[name] = elem;\n      }\n    }\n  }\n\n  return module;\n}\n\nexports.demangle = demangle;\n","const encoded = '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';\r\nexport default new Promise(resolve => {\r\n    const decoded = atob(encoded);\r\n    const len = decoded.length;\r\n    const bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = decoded.charCodeAt(i);\r\n    }\r\n    resolve(new Response(bytes, { status: 200, headers: { \"Content-Type\": \"application/wasm\" } }));\r\n});\r\n","import {instantiateStreaming} from 'assemblyscript/lib/loader/index.js';\r\nimport optimized from '../../wasm/optimized';\r\n\r\nexport const api = {};\r\n\r\nconst promise = instantiateStreaming(optimized).then(inst => Object.assign(api, {inst}));\r\nexport default () => promise;\r\n","import {api} from './api';\r\n\r\nexport default () => {\r\n  let pixelX = 1;\r\n  let pixelY = 1;\r\n  let lineWidth = 0;\r\n  let callback = () => {};\r\n\r\n  const circles = (points, totalSegments) => {\r\n    const {inst} = api;\r\n\r\n    let in_buffer;\r\n    let out_buffer;\r\n    let edge_buffer;\r\n    try {\r\n      out_buffer = inst.newArray(Float32Array, totalSegments * 6, true);\r\n      in_buffer = points.__forWASM ? points.__forWASM : inst.newArray(points);\r\n      inst.circles(in_buffer, totalSegments, pixelX, pixelY, out_buffer);\r\n\r\n      let edgeArray = null;\r\n      if (lineWidth > 0) {\r\n        edge_buffer = inst.newArray(Float32Array, totalSegments * 6, true);\r\n        inst.edges(out_buffer, lineWidth, pixelX, pixelY, edge_buffer);\r\n        edgeArray = inst.getArray(Float32Array, edge_buffer);\r\n      }\r\n\r\n      callback(inst.getArray(Float32Array, out_buffer), edgeArray);\r\n    } finally {\r\n      if (in_buffer) inst.freeArray(in_buffer);\r\n      if (out_buffer) inst.freeArray(out_buffer);\r\n      if (edge_buffer) inst.freeArray(edge_buffer);\r\n    }\r\n  };\r\n\r\n  circles.pixelX = (...args) => {\r\n    if (!args.length) {\r\n        return pixelX;\r\n    }\r\n    pixelX = args[0];\r\n    return circles;\r\n  };\r\n\r\n  circles.pixelY = (...args) => {\r\n    if (!args.length) {\r\n        return pixelY;\r\n    }\r\n    pixelY = args[0];\r\n    return circles;\r\n  };\r\n\r\n  circles.lineWidth = (...args) => {\r\n    if (!args.length) {\r\n        return lineWidth;\r\n    }\r\n    lineWidth = args[0];\r\n    return circles;\r\n  };  \r\n\r\n  circles.callback = (...args) => {\r\n    if (!args.length) {\r\n        return callback;\r\n    }\r\n    callback = args[0];\r\n    return circles;\r\n  };\r\n\r\n  return circles;\r\n};\r\n","import {api} from './api';\r\n\r\nexport default () => {\r\n  let pixelX = 1;\r\n  let pixelY = 1;\r\n  let lineWidth = 0;\r\n  let shape = [];\r\n  let callback = () => {};\r\n\r\n  const shapes = (points) => {\r\n    const {inst} = api;\r\n\r\n    let in_buffer;\r\n    let shape_buffer;\r\n    let out_buffer;\r\n    let edge_buffer;\r\n    try {\r\n      const totalSegments = (points.length / 3) * (shape.length / 2 - 1);\r\n\r\n      out_buffer = inst.newArray(Float32Array, totalSegments * 6, true);\r\n      in_buffer = points.__forWASM ? points.__forWASM : inst.newArray(points);\r\n      shape_buffer = inst.newArray(shape);\r\n      inst.shapes(in_buffer, shape_buffer, pixelX, pixelY, out_buffer);\r\n\r\n      let edgeArray = null;\r\n      if (lineWidth > 0) {\r\n        edge_buffer = inst.newArray(Float32Array, totalSegments * 6, true);\r\n        inst.edges(out_buffer, lineWidth, pixelX, pixelY, edge_buffer);\r\n        edgeArray = inst.getArray(Float32Array, edge_buffer);\r\n      }\r\n\r\n      callback(inst.getArray(Float32Array, out_buffer), edgeArray);\r\n    } finally {\r\n      if (in_buffer) inst.freeArray(in_buffer);\r\n      if (shape_buffer) inst.freeArray(shape_buffer);\r\n      if (out_buffer) inst.freeArray(out_buffer);\r\n      if (edge_buffer) inst.freeArray(edge_buffer);\r\n    }\r\n  };\r\n\r\n  shapes.pixelX = (...args) => {\r\n    if (!args.length) {\r\n        return pixelX;\r\n    }\r\n    pixelX = args[0];\r\n    return shapes;\r\n  };\r\n\r\n  shapes.pixelY = (...args) => {\r\n    if (!args.length) {\r\n        return pixelY;\r\n    }\r\n    pixelY = args[0];\r\n    return shapes;\r\n  };\r\n\r\n  shapes.lineWidth = (...args) => {\r\n    if (!args.length) {\r\n        return lineWidth;\r\n    }\r\n    lineWidth = args[0];\r\n    return shapes;\r\n  };  \r\n\r\n  shapes.shape = (...args) => {\r\n    if (!args.length) {\r\n        return shape;\r\n    }\r\n    shape = args[0];\r\n    return shapes;\r\n  };\r\n\r\n  shapes.callback = (...args) => {\r\n    if (!args.length) {\r\n        return callback;\r\n    }\r\n    callback = args[0];\r\n    return shapes;\r\n  };\r\n\r\n  return shapes;\r\n};\r\n","import {api} from './api';\r\n\r\nexport default size => {\r\n  const {inst} = api;\r\n  const memory = inst.newArray(Float32Array, size, true)\r\n  const array = inst.getArray(Float32Array, memory);\r\n  array.__forWASM = memory;\r\n  return array;\r\n};\r\n","import array_allocator from './array_allocator';\r\n\r\nexport default () => {\r\n  let circles = false;\r\n  let pointFn = (d) => ({x: d.x, y: d.y, size: d.size});\r\n\r\n  const pointData = (data) => {\r\n    const dataPerPoint = circles ? 4 : 3;\r\n    const result = array_allocator(data.length * dataPerPoint);\r\n    let allSegments = 0;\r\n    let index = 0;\r\n\r\n    data.forEach(d => {\r\n      const dataPoint = pointFn(d);\r\n      result[index++] = dataPoint.x;\r\n      result[index++] = dataPoint.y;\r\n\r\n      const size = Math.floor(Math.sqrt(dataPoint.size) * 0.65);\r\n      result[index++] = size;\r\n\r\n      if (circles) {\r\n        const segments = size * 2;\r\n        result[index++] = segments;\r\n        allSegments += segments;\r\n      }\r\n    });\r\n\r\n    return {\r\n      data: result,\r\n      segmentCount: allSegments\r\n    };\r\n};\r\n\r\n  pointData.circles = (...args) => {\r\n    if (!args.length) {\r\n        return circles;\r\n    }\r\n    circles = args[0];\r\n    return pointData;\r\n  };\r\n\r\n  pointData.pointFn = (...args) => {\r\n    if (!args.length) {\r\n        return pointFn;\r\n    }\r\n    pointFn = args[0];\r\n    return pointData;\r\n  };\r\n\r\n  return pointData;\r\n};"],"names":["hasBigInt64","BigUint64Array","thisPtr","Symbol","getStringImpl","U32","U16","ptr","dataLength","dataOffset","dataRemain","parts","chunkSize","last","size","part","subarray","push","String","fromCharCode","apply","join","preInstantiate","imports","baseModule","getString","memory","buffer","Uint32Array","Uint16Array","env","abort","mesg","file","line","colm","Error","trace","n","console","log","Array","prototype","slice","call","arguments","Math","Date","postInstantiate","instance","rawExports","exports","memory_allocate","memory_fill","memory_free","table","setargc","_setargc","I8","U8","I16","I32","F32","F64","I64","U64","checkMem","Int8Array","Uint8Array","Int16Array","Int32Array","BigInt64Array","Float32Array","Float64Array","newString","str","length","i","charCodeAt","computeBufferSize","byteLength","HEADER_SIZE","clz32","newArray","view","unsafe","ctor","constructor","Function","undefined","elementSize","BYTES_PER_ELEMENT","buf","set","setLength","getArray","byteOffset","freeArray","newFunction","fn","original","index","grow","getFunction","wrapFunction","get","demangle","Object","defineProperties","wrap","instantiateStreaming","response","WebAssembly","module","create","hasOwnProperty","elem","prop","internalName","split","curr","shift","name","hash","indexOf","className","substring","classElem","args","thisValue","value","writable","getOwnPropertyNames","forEach","defineProperty","getOwnPropertyDescriptor","test","getter","replace","setter","enumerable","encoded","Promise","resolve","decoded","atob","len","bytes","Response","status","headers","api","promise","optimized","then","inst","assign","pixelX","pixelY","lineWidth","callback","circles","points","totalSegments","in_buffer","out_buffer","edge_buffer","__forWASM","edgeArray","edges","shape","shapes","shape_buffer","array","pointFn","d","x","y","pointData","data","dataPerPoint","result","array_allocator","allSegments","dataPoint","floor","sqrt","segments","segmentCount"],"mappings":"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"}